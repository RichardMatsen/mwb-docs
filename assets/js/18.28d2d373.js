(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{250:function(t,s,a){t.exports=a.p+"assets/img/clinics.f988d579.jpg"},251:function(t,s,a){t.exports=a.p+"assets/img/validations.b5c8d612.jpg"},252:function(t,s,a){t.exports=a.p+"assets/img/metrics.0564a0ca.jpg"},253:function(t,s,a){t.exports=a.p+"assets/img/sparklines.53df746d.jpg"},286:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"measure-calculation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#measure-calculation","aria-hidden":"true"}},[this._v("#")]),this._v(" Measure Calculation")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"features"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#features","aria-hidden":"true"}},[this._v("#")]),this._v(" Features")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"metrics"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#metrics","aria-hidden":"true"}},[this._v("#")]),this._v(" Metrics")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(252),alt:"metrics"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(253),alt:"sparklines"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"working-set"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#working-set","aria-hidden":"true"}},[this._v("#")]),this._v(" Working Set")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"daily-reruns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#daily-reruns","aria-hidden":"true"}},[this._v("#")]),this._v(" Daily Reruns")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"data-parsing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#data-parsing","aria-hidden":"true"}},[this._v("#")]),this._v(" Data parsing")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"models"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#models","aria-hidden":"true"}},[this._v("#")]),this._v(" Models")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("IFileInfo")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("              "),a("span",{attrs:{class:"token comment"}},[t._v("// Full file name")]),t._v("\n  namePrefix"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),a("span",{attrs:{class:"token comment"}},[t._v("// File type (match to prefix)")]),t._v("\n  baseName"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("         "),a("span",{attrs:{class:"token comment"}},[t._v("// File name preceding date")]),t._v("\n  sequenceNo"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Number"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),a("span",{attrs:{class:"token comment"}},[t._v("// Used to group daily re-runs")]),t._v("\n  displayName"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),a("span",{attrs:{class:"token comment"}},[t._v("// Truncated name for stepped display")]),t._v("\n  effectiveDate"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Date"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),a("span",{attrs:{class:"token comment"}},[t._v("// Test date (from filename)")]),t._v("\n  effectiveTime"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),a("span",{attrs:{class:"token comment"}},[t._v("// Test time (from filename)")]),t._v("\n  lastModified"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Date"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),a("span",{attrs:{class:"token comment"}},[t._v("// File timestamp")]),t._v("\n  lastRefresh"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),a("span",{attrs:{class:"token comment"}},[t._v("// Last time file was read from disk ")]),t._v("\n  content"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("          "),a("span",{attrs:{class:"token comment"}},[t._v("// File contents")]),t._v("\n  metric"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Number "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{attrs:{class:"token comment"}},[t._v("// Calculated metric")]),t._v("\n  badgeColor"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),a("span",{attrs:{class:"token comment"}},[t._v("// Colour from metric value")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("IMeasure")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  title"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  metric"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Number "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  color"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  icon"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  link"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  history"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Number"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  narrative"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"process-steps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#process-steps","aria-hidden":"true"}},[this._v("#")]),this._v(" Process steps")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The "),s("code",[this._v("data.service")]),this._v(" provides file processing, with the help of the following sub-services,")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[a("p",[a("strong",[t._v("File list fetching")]),t._v(" ("),a("em",[t._v("file.service.ts")]),t._v(")"),a("br"),t._v("\nInvokes http.get to fetch the file list, and handles pending flag and saving of the list to Redux store.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("File name parsing")]),t._v(" ("),a("em",[t._v("name-parsing.service.ts")]),t._v(")"),a("br"),t._v("\nConverts each file name into a FileInfo object, separating out date, time and test type.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("File sorting and sequencing")]),t._v(" ("),a("em",[t._v("list-formatter.service.ts")]),t._v(")"),a("br"),t._v("\nFiles are sorted by date, type and time. A sequence number is applied to files of the same date and type, to group repeat runs on the same day.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Content is fetched and metric extracted")]),t._v(" ("),a("em",[t._v("format.service.ts")]),t._v(" and derived classes)"),a("br"),t._v("\nThe file itself is read (with FileService) and the metric value is extracted in a sub-class of FormatService.")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"call-sequence-for-file-fetch-and-processing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#call-sequence-for-file-fetch-and-processing","aria-hidden":"true"}},[this._v("#")]),this._v(" Call sequence for file fetch and processing")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"service-sub-classing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-sub-classing","aria-hidden":"true"}},[this._v("#")]),this._v(" Service sub-classing")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Each page has 90% identical data initialization, except for a few methods. Therefore, the bulk of the code is in an abstract base class "),s("strong",[this._v("DataService")]),this._v(" which has abstract methods for the parts that differ.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("For example, "),s("strong",[this._v("ValidationsDataService")]),this._v(". Note that FormatService is also subclassed, so we pass the required type in the call to "),s("code",[this._v("super()")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("DataService")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" config$"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Observable"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token builtin"}},[t._v("any")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" files$"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Observable"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("IFileInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("PAGE")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("string")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("constructor")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" formatService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" FormatService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" nameParsingService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NameParsingService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" listFormatterService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ListFormatterService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" fileService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" FileService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" logger"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Logger"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" pageActions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PageActions"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getLatestMeasureFromFiles")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" IFileInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" IMeasureUpdate"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("calcHistory")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" IFileInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("number")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-ts extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[t._v("@"),a("span",{attrs:{class:"token function"}},[t._v("Injectable")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ValidationsDataService")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("DataService")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  @"),a("span",{attrs:{class:"token function"}},[t._v("select")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'config'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'validationsConfig'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" config$"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Observable"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token builtin"}},[t._v("any")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  @"),a("span",{attrs:{class:"token function"}},[t._v("select")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'pages'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'validations'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'files'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" files$"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Observable"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("IFileInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("PAGE")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'validations'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("constructor")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" formatService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ValidationsFormatService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" nameParsingService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NameParsingService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" listFormatterService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ListFormatterService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" fileService"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" FileService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" logger"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Logger"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" store"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" StoreService\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("super")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("formatService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nameParsingService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listFormatterService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fileService"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n          logger"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" store"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("actions"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("validationsActions"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getLatestMeasureFromFiles")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" IFileInfo"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" IMeasureUpdate "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("calcHistory")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token builtin"}},[t._v("number")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],e=a(1),r=Object(e.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("p",[t._v("Metrics are calculated by scraping the HTML test result pages which are generated by the back-end Linq queries.\nThe purpose is to distill the tabular results down to a single figure, and add a traffic light colour.")]),t._v(" "),t._m(3),t._v(" "),n("p",[t._v("In addition, the last 10 metrics are displayed in a sparkline to give a sense of the recent history.")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),n("p",[t._v("We are generally interested in the latest working set of data (i.e those of the last few days). To reduce clutter and increase loading speed, the list is initially limited to a configured number of tests. Older results are accessed via a chevron at the bottom of the list.")]),t._v(" "),n("img",{attrs:{src:a(250),alt:"current working set",width:"600"}}),t._v(" "),t._m(6),t._v(" "),n("p",[t._v("Tests are often rerun on the same day once corrections have been made. Clusters are displayed by stepping the list (omitting the name) for the same test on the same day.")]),t._v(" "),n("img",{attrs:{src:a(251),alt:"stepped list",width:"600"}}),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),n("p",[t._v("Both the file names and the contents are parsed for data. The file name gives the test type and date/time info. The content gives the metric data.")]),t._v(" "),n("p",[t._v("These are the key data models.")]),t._v(" "),t._m(9),t._m(10),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),n("mermaid",[t._v("\nsequenceDiagram\n    Component->>DataService: initializeFileList()\n    DataService->>FileService: getFileList()\n    FileService->>DataService: string[]\n    DataService->>NameParsingService: parseFiles()\n    NameParsingService->>DataService: IFileInfo[]\n    DataService->>ListFormatterService: process()\n    ListFormatterService->>DataService: ordered IFileInfo[]\n    loop for each IFileInfo\n        DataService->>FileService: getFile()\n        FileService->>DataService: File content\n        DataService->>FormatService: processContent()\n        FormatService->>DataService: IFileInfo\n    end\n    DataService->>Component: IFileInfo[]\n")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),n("MiniMap")],1)},n,!1,null,null,null);r.options.__file="ReadMe.md";s.default=r.exports}}]);