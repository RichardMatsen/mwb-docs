(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{298:function(n,e,t){"use strict";t.r(e);var a=t(1),i=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"content"},[t("p",[n._v('Task:\nMigrating from Angular with Bootstrap 3 js + jQuery.\nTarget div has collapse class and button has...\ndata-toggle="collapse" [attr.data-target]="\'#narrtext_\'+measure.id"\n...which relies on Bootstrap js.')]),n._v(" "),t("p",[n._v("Emulating the Angular setup:\nIn Vue, Bootstrap 3 js complains about not seeing jQuery even if it is imported.")]),n._v(" "),t("p",[n._v("Trying packaged modules:\nVue-strap doesn't have a component for collapse\nBootstrapVue is for Bootstrap 4")]),n._v(" "),t("p",[n._v('First attempt mixing Vue transition directive and Bootstrap collapse/in classes:\nUse :class="{in: isExpanded}" to add/remove the in class from the target div (otherwise remains collapsed).\nUse: v-show="isExpanded" as hook for animation.\nNote, no animation on the height of the well.\nWorks ok, but can be simplified by removing bootstrap collapse.')]),n._v(" "),t("p",[n._v('Final soultion:\nRemove collapse from target div (narrative text + hr).\nUse <transition name="slide-fade" type="animation" @enter="heightEnterAnimation" @leave="heightLeaveAnimation"> wrapper around target div.\nUse: v-show="isExpanded" as hook for animation.\nUse the following animation css:')]),n._v(" "),t("pre",[t("code",[n._v(".slide-fade-enter {\n  /* tranform: translateY(20px); */ \n  opacity: 0;\n}\n.slide-fade-enter-active {\n  animation: slide-in 1s ease-out forwards;\n  transition: opacity 0.5s;\n}\n.slide-fade-leave {\n}\n.slide-fade-leave-active {\n  animation: slide-out 0.2s ease-out forwards;\n  transition: opacity 0.2s;\n  opacity: 0;\n}\n@keyframes slide-in {\n  from {\n    transform: translateY(20px)\n  }\n  to {\n    transform: translateY(0)\n  }\n}\n@keyframes slide-out {\n  from {\n    transform: translateY(0)\n  }\n  to {\n    transform: translateY(20px)\n  }\n}\n")])]),n._v(" "),t("p",[n._v('To animate the height, use javascript animation hooks (@enter="heightEnterAnimation" @leave="heightLeaveAnimation") with the following code:')]),n._v(" "),t("pre",[t("code",[n._v("methods: {\n  heightEnterAnimation (el, done) {\n    this.heightAnimation(el, done, 0, true)\n  },\n  heightLeaveAnimation (el, done) {\n    this.heightAnimation(el, done, 100, false)\n  },\n  heightAnimation (el, done, start, expand) {\n    let counter = 0\n    const interval = setInterval(() => {\n      const increment = (expand ? 1 : -1) * counter * 5\n      el.style.maxHeight = (start + increment) + 'px'\n      counter++\n      if (counter > 20) {\n        clearInterval(interval)\n        done()\n      }\n    }, 20)\n  }\n},\n")])])])}],!1,null,null,null);i.options.__file="Bootstrap collapse in Vue.md";e.default=i.exports}}]);